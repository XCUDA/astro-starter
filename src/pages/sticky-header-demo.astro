---
// Sticky Header Demo Page - Test all sticky behaviors (Sprint 9 - Step 1)
// Demonstrates the 4 different sticky behaviors with live examples
// Path: src/pages/sticky-header-demo.astro

import Layout from '../components/layouts/Layout.astro';
import { Card, CardContent, CardDescription, CardHeader, CardTitle } from '../components/ui/card';
import { Badge } from '../components/ui/badge';
import { Button } from '../components/ui/button';
---

<Layout 
  title="Sticky Header Demo - Sprint 9"
  description="Interactive demonstration of intelligent sticky header behaviors with scroll effects"
  currentPage="sticky-header-demo"
  headerVariant="business"
  footerVariant="business"
  
  {/* Test different sticky behaviors - change these to test */}
  stickyBehavior="scroll-up-show"
  showScrollIndicator={true}
  scrollThreshold={50}

  keywords={["sticky header, scroll behavior, hide on scroll, smart navigation"]}
>
  <!-- Hero Section -->
  <section class="bg-gradient-to-br from-primary/5 via-background to-secondary/5 py-16" role="banner" aria-labelledby="hero-title">
    <div class="container mx-auto px-4">
      <div class="max-w-4xl mx-auto text-center">
        <div class="flex items-center justify-center space-x-2 mb-6">
          <span class="text-4xl" aria-hidden="true">üìå</span>
          <Badge variant="secondary" className="text-sm font-medium">
            Sprint 9 - Step 1
          </Badge>
        </div>
        
        <h1 id="hero-title" class="text-4xl lg:text-5xl font-bold text-foreground mb-6">
          Sticky Header Behaviors Demo
        </h1>
        
        <p class="text-xl text-muted-foreground mb-8 leading-relaxed">
          Test and experience all intelligent sticky header behaviors. 
          Scroll down to see the header behavior in action!
        </p>
        
        <div class="flex flex-col sm:flex-row gap-4 justify-center" role="group" aria-label="Sticky header testing actions">
          <Button size="lg" className="text-lg px-8" aria-label="Start scrolling to test sticky header behavior">
            <span class="mr-2" aria-hidden="true">‚¨áÔ∏è</span>
            Start Scrolling
          </Button>
          <Button variant="outline" size="lg" className="text-lg px-8" aria-label="Learn about different sticky header behaviors">
            <span class="mr-2" aria-hidden="true">üìå</span>
            Test Behaviors
          </Button>
        </div>
      </div>
    </div>
  </section>

  <!-- Current Behavior Info -->
  <section class="py-8 bg-muted/30" role="region" aria-labelledby="current-config">
    <div class="container mx-auto px-4">
      <Card className="border-primary/20 bg-primary/5">
        <CardHeader>
          <CardTitle id="current-config" className="flex items-center space-x-2">
            <span aria-hidden="true">üéØ</span>
            <span>Current Header Configuration</span>
          </CardTitle>
          <CardDescription>
            This page demonstrates: <strong>scroll-up-show</strong> behavior with scroll indicator
          </CardDescription>
        </CardHeader>
        <CardContent>
          <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 text-sm" role="list" aria-label="Current sticky header configuration settings">
            <div role="listitem">
              <strong>Behavior:</strong> scroll-up-show
            </div>
            <div role="listitem">
              <strong>Scroll Threshold:</strong> 50px
            </div>
            <div role="listitem">
              <strong>Scroll Indicator:</strong> Enabled
            </div>
            <div role="listitem">
              <strong>Variant:</strong> business
            </div>
            <div role="listitem">
              <strong>Background:</strong> Adaptive
            </div>
            <div role="listitem">
              <strong>Performance:</strong> Optimized
            </div>
          </div>
        </CardContent>
      </Card>
    </div>
  </section>

  <!-- Sticky Behaviors Overview -->
  <section class="py-16" role="region" aria-labelledby="behaviors-title">
    <div class="container mx-auto px-4">
      <div class="text-center mb-12">
        <h2 id="behaviors-title" class="text-3xl font-bold text-foreground mb-4">
          Available Sticky Behaviors
        </h2>
        <p class="text-lg text-muted-foreground max-w-3xl mx-auto">
          Five different behaviors to match your application's needs. 
          Each optimized for performance and user experience.
        </p>
      </div>

      <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6" role="list" aria-label="Available sticky header behavior types">
        <!-- Static Behavior -->
        <Card className="hover:shadow-lg transition-all duration-200 hover:scale-105" role="listitem">
          <CardHeader className="text-center">
            <div class="text-3xl mb-2" aria-hidden="true">üìç</div>
            <CardTitle className="text-lg">Static (Default)</CardTitle>
            <CardDescription>
              Traditional sticky header, always visible
            </CardDescription>
          </CardHeader>
          <CardContent>
            <ul class="text-sm space-y-2 text-muted-foreground" role="list" aria-label="Static behavior features">
              <li role="listitem">‚Ä¢ Always visible at top</li>
              <li role="listitem">‚Ä¢ No scroll animations</li>
              <li role="listitem">‚Ä¢ Maximum compatibility</li>
              <li role="listitem">‚Ä¢ Best performance</li>
            </ul>
          </CardContent>
        </Card>

        <!-- Always Visible -->
        <Card className="hover:shadow-lg transition-all duration-200 hover:scale-105" role="listitem">
          <CardHeader className="text-center">
            <div class="text-3xl mb-2" aria-hidden="true">üëÅÔ∏è</div>
            <CardTitle className="text-lg">Always Visible</CardTitle>
            <CardDescription>
              Enhanced sticky, always shown with effects
            </CardDescription>
          </CardHeader>
          <CardContent>
            <ul class="text-sm space-y-2 text-muted-foreground" role="list" aria-label="Always visible behavior features">
              <li role="listitem">‚Ä¢ Always visible</li>
              <li role="listitem">‚Ä¢ Background adaptation</li>
              <li role="listitem">‚Ä¢ Scroll indicators</li>
              <li role="listitem">‚Ä¢ Smooth transitions</li>
            </ul>
          </CardContent>
        </Card>

        <!-- Hide on Scroll -->
        <Card className="hover:shadow-lg transition-all duration-200 hover:scale-105" role="listitem">
          <CardHeader className="text-center">
            <div class="text-3xl mb-2" aria-hidden="true">‚¨áÔ∏è</div>
            <CardTitle className="text-lg">Hide on Scroll</CardTitle>
            <CardDescription>
              Hides when scrolling down, shows when up
            </CardDescription>
          </CardHeader>
          <CardContent>
            <ul class="text-sm space-y-2 text-muted-foreground" role="list" aria-label="Hide on scroll behavior features">
              <li role="listitem">‚Ä¢ Hides on scroll down</li>
              <li role="listitem">‚Ä¢ Shows on scroll up</li>
              <li role="listitem">‚Ä¢ More content space</li>
              <li role="listitem">‚Ä¢ Modern UX pattern</li>
            </ul>
          </CardContent>
        </Card>

        <!-- Auto Hide -->
        <Card className="hover:shadow-lg transition-all duration-200 hover:scale-105" role="listitem">
          <CardHeader className="text-center">
            <div class="text-3xl mb-2" aria-hidden="true">‚è∞</div>
            <CardTitle className="text-lg">Auto Hide</CardTitle>
            <CardDescription>
              Hides automatically, returns after delay
            </CardDescription>
          </CardHeader>
          <CardContent>
            <ul class="text-sm space-y-2 text-muted-foreground" role="list" aria-label="Auto hide behavior features">
              <li role="listitem">‚Ä¢ Hides after scrolling</li>
              <li role="listitem">‚Ä¢ Reappears after delay</li>
              <li role="listitem">‚Ä¢ Configurable timing</li>
              <li role="listitem">‚Ä¢ Balanced approach</li>
            </ul>
          </CardContent>
        </Card>

        <!-- Scroll Up Show (Current) -->
        <Card className="hover:shadow-lg transition-all duration-200 hover:scale-105 border-primary/20 bg-primary/5" role="listitem">
          <CardHeader className="text-center">
            <div class="text-3xl mb-2" aria-hidden="true">‚¨ÜÔ∏è</div>
            <CardTitle className="text-lg text-primary">Scroll Up Show</CardTitle>
            <CardDescription>
              Smart behavior: shows only when scrolling up
            </CardDescription>
          </CardHeader>
          <CardContent>
            <ul class="text-sm space-y-2 text-muted-foreground" role="list" aria-label="Scroll up show behavior features">
              <li role="listitem">‚Ä¢ <strong>Currently active</strong></li>
              <li role="listitem">‚Ä¢ Shows on scroll up intent</li>
              <li role="listitem">‚Ä¢ Hides on scroll down</li>
              <li role="listitem">‚Ä¢ Intelligent detection</li>
            </ul>
          </CardContent>
        </Card>

        <!-- Configuration -->
        <Card className="hover:shadow-lg transition-all duration-200 hover:scale-105" role="listitem">
          <CardHeader className="text-center">
            <div class="text-3xl mb-2" aria-hidden="true">‚öôÔ∏è</div>
            <CardTitle className="text-lg">Configuration</CardTitle>
            <CardDescription>
              Customizable thresholds and timing
            </CardDescription>
          </CardHeader>
          <CardContent>
            <ul class="text-sm space-y-2 text-muted-foreground" role="list" aria-label="Configuration options">
              <li role="listitem">‚Ä¢ Scroll threshold</li>
              <li role="listitem">‚Ä¢ Hide delay timing</li>
              <li role="listitem">‚Ä¢ Progress indicators</li>
              <li role="listitem">‚Ä¢ Variant-specific styles</li>
            </ul>
          </CardContent>
        </Card>
      </div>
    </div>
  </section>

  <!-- Implementation Examples -->
  <section class="py-16 bg-muted/30" role="region" aria-labelledby="implementation-title">
    <div class="container mx-auto px-4">
      <h2 id="implementation-title" class="text-3xl font-bold text-foreground text-center mb-12">
        Implementation Examples
      </h2>

      <div class="grid grid-cols-1 lg:grid-cols-2 gap-8" role="list" aria-label="Code implementation examples">
        <!-- Basic Usage -->
        <Card role="listitem">
          <CardHeader>
            <CardTitle class="flex items-center space-x-2">
              <span aria-hidden="true">‚ö°</span>
              <span>Basic Usage</span>
            </CardTitle>
            <CardDescription>
              Simple sticky header with scroll-up-show behavior
            </CardDescription>
          </CardHeader>
          <CardContent>
            <div class="bg-muted p-4 rounded-lg text-sm font-mono" role="code" aria-label="Basic sticky header usage code example">
              {`<Layout 
  stickyBehavior="scroll-up-show"
  showScrollIndicator={true}
  scrollThreshold={100}
/>`}
            </div>
          </CardContent>
        </Card>

        <!-- Advanced Configuration -->
        <Card role="listitem">
          <CardHeader>
            <CardTitle class="flex items-center space-x-2">
              <span aria-hidden="true">üîß</span>
              <span>Advanced Configuration</span>
            </CardTitle>
            <CardDescription>
              Full configuration with custom timing and behavior
            </CardDescription>
          </CardHeader>
          <CardContent>
            <div class="bg-muted p-4 rounded-lg text-sm font-mono" role="code" aria-label="Advanced sticky header configuration code example">
              {`<Layout 
  stickyBehavior="auto-hide"
  hideDelay={3000}
  scrollThreshold={50}
  showScrollIndicator={true}
  headerVariant="business"
/>`}
            </div>
          </CardContent>
        </Card>

        <!-- Mobile Optimized -->
        <Card role="listitem">
          <CardHeader>
            <CardTitle class="flex items-center space-x-2">
              <span aria-hidden="true">üì±</span>
              <span>Mobile Optimized</span>
            </CardTitle>
            <CardDescription>
              Optimized for mobile with hide on scroll
            </CardDescription>
          </CardHeader>
          <CardContent>
            <div class="bg-muted p-4 rounded-lg text-sm font-mono" role="code" aria-label="Mobile optimized sticky header code example">
              {`<Layout 
  hideOnScroll={true}
  scrollThreshold={30}
  headerVariant="minimal"
/>`}
            </div>
          </CardContent>
        </Card>

        <!-- Performance Focused -->
        <Card role="listitem">
          <CardHeader>
            <CardTitle class="flex items-center space-x-2">
              <span aria-hidden="true">üöÄ</span>
              <span>Performance Focused</span>
            </CardTitle>
            <CardDescription>
              Static header for maximum performance
            </CardDescription>
          </CardHeader>
          <CardContent>
            <div class="bg-muted p-4 rounded-lg text-sm font-mono" role="code" aria-label="Performance focused static header code example">
              {`<Layout 
  stickyBehavior="static"
  headerVariant="default"
/>`}
            </div>
          </CardContent>
        </Card>
      </div>
    </div>
  </section>

  <!-- Long Content for Scroll Testing -->
  <section class="py-16" role="region" aria-labelledby="test-content-title">
    <div class="container mx-auto px-4">
      <h2 id="test-content-title" class="text-3xl font-bold text-foreground text-center mb-12">
        Scroll Test Content
      </h2>
      
      <div class="max-w-3xl mx-auto space-y-8" role="list" aria-label="Scroll testing content sections">
        {Array.from({ length: 10 }, (_, i) => (
          <Card key={`test-section-${i}`} role="listitem">
            <CardHeader>
              <CardTitle>Test Section {i + 1}</CardTitle>
              <CardDescription>
                Scroll through this content to test the sticky header behavior
              </CardDescription>
            </CardHeader>
            <CardContent>
              <p class="text-muted-foreground leading-relaxed">
                Lorem ipsum dolor sit amet, consectetur adipiscing elit. 
                Sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. 
                Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. 
                Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. 
                Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.
              </p>
              <p class="text-muted-foreground leading-relaxed mt-4">
                Continue scrolling to experience how the header behaves with the current configuration. 
                Notice how the header background adapts and the scroll indicator updates as you move through the content.
              </p>
            </CardContent>
          </Card>
        ))}
      </div>
    </div>
  </section>

  <!-- Performance Notes -->
  <section class="py-16 bg-muted/30" role="region" aria-labelledby="performance-notes">
    <div class="container mx-auto px-4">
      <Card>
        <CardHeader>
          <CardTitle id="performance-notes" class="text-2xl">üöÄ Performance Optimizations</CardTitle>
          <CardDescription>
            Built-in optimizations for smooth scrolling experience
          </CardDescription>
        </CardHeader>
        <CardContent>
          <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
            <div role="group" aria-labelledby="smart-throttling">
              <h3 id="smart-throttling" class="font-semibold mb-3">üéØ Smart Throttling</h3>
              <ul class="text-sm space-y-1 text-muted-foreground" role="list" aria-label="Smart throttling optimization features">
                <li role="listitem">‚Ä¢ RequestAnimationFrame for smooth animations</li>
                <li role="listitem">‚Ä¢ Passive scroll listeners for better performance</li>
                <li role="listitem">‚Ä¢ Intelligent state tracking to avoid unnecessary updates</li>
                <li role="listitem">‚Ä¢ Memory-efficient cleanup on component unmount</li>
              </ul>
            </div>
            
            <div role="group" aria-labelledby="optimization-features">
              <h3 id="optimization-features" class="font-semibold mb-3">‚ö° Optimization Features</h3>
              <ul class="text-sm space-y-1 text-muted-foreground" role="list" aria-label="Performance optimization features">
                <li role="listitem">‚Ä¢ Will-change CSS hints for GPU acceleration</li>
                <li role="listitem">‚Ä¢ Transform-based animations instead of position</li>
                <li role="listitem">‚Ä¢ Minimal DOM queries with efficient caching</li>
                <li role="listitem">‚Ä¢ Configurable thresholds to reduce sensitivity</li>
              </ul>
            </div>
          </div>
        </CardContent>
      </Card>
    </div>
  </section>

</Layout>